{"ast":null,"code":"import React,{useState,useEffect}from'react';import{createDepartment}from'../services/api';import{Container,TextField,Button,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DepartmentForm=_ref=>{let{onDepartmentCreated}=_ref;const[name,setName]=useState('');const[description,setDescription]=useState('');useEffect(()=>{// Fetch departments when the component mounts\n// getDepartments().then((data) => setDepartments(data));\n},[]);const handleSubmit=async e=>{e.preventDefault();// Pass the selected departments array to the createEmployee function\ncreateDepartment({name,description});//Add a short delay to account for database processing time\n//to add new employee to existing departments.\nawait new Promise(resolve=>setTimeout(resolve,200));// Call the parent component's function to refresh the data\nonDepartmentCreated();// Reset the form after submission\nsetName('');setDescription('');};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{display:'flex',flexDirection:'column',gap:'16px',mt:'32px',padding:'24px',boxShadow:3,borderRadius:2},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Department\"}),/*#__PURE__*/_jsx(TextField,{label:\"Name\",variant:\"outlined\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",variant:\"outlined\",value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",children:\"Create Department\"})]})});};export default DepartmentForm;","map":{"version":3,"names":["React","useState","useEffect","createDepartment","Container","TextField","Button","Box","jsx","_jsx","jsxs","_jsxs","DepartmentForm","_ref","onDepartmentCreated","name","setName","description","setDescription","handleSubmit","e","preventDefault","Promise","resolve","setTimeout","maxWidth","children","component","onSubmit","sx","display","flexDirection","gap","mt","padding","boxShadow","borderRadius","label","variant","value","onChange","target","required","color","type"],"sources":["/Users/chieduonwuemene/softwaredevelopment/coursera/projects/apollonia-fullstack/client/src/components/DepartmentForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { createDepartment } from '../services/api';\nimport {\n  Container,\n  TextField,\n  Button,\n  Box,\n} from '@mui/material';\n\nconst DepartmentForm = ({onDepartmentCreated}) => {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    // Fetch departments when the component mounts\n    // getDepartments().then((data) => setDepartments(data));\n  }, []);\n\n  \n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // Pass the selected departments array to the createEmployee function\n    createDepartment({\n      name,\n      description\n    });\n\n    //Add a short delay to account for database processing time\n    //to add new employee to existing departments.\n    await new Promise((resolve) => setTimeout(resolve, 200));\n\n    // Call the parent component's function to refresh the data\n    onDepartmentCreated();\n\n    // Reset the form after submission\n    setName('');\n    setDescription('');\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box\n        component=\"form\"\n        onSubmit={handleSubmit}\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '16px',\n          mt: '32px',\n          padding: '24px',\n          boxShadow: 3,\n          borderRadius: 2,\n        }}\n      >\n        <h3>Create New Department</h3>\n\n        {/* Name Input */}\n        <TextField\n          label=\"Name\"\n          variant=\"outlined\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n\n        {/* Description Input */}\n        <TextField\n          label=\"Description\"\n          variant=\"outlined\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        {/* Submit Button */}\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n          Create Department\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default DepartmentForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,gBAAgB,KAAQ,iBAAiB,CAClD,OACEC,SAAS,CACTC,SAAS,CACTC,MAAM,CACNC,GAAG,KACE,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAA2B,IAA1B,CAACC,mBAAmB,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACd;AACA;AAAA,CACD,CAAE,EAAE,CAAC,CAIN,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACAlB,gBAAgB,CAAC,CACfY,IAAI,CACJE,WACF,CAAC,CAAC,CAEF;AACA;AACA,KAAM,IAAI,CAAAK,OAAO,CAAEC,OAAO,EAAKC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAAC,CAExD;AACAT,mBAAmB,CAAC,CAAC,CAErB;AACAE,OAAO,CAAC,EAAE,CAAC,CACXE,cAAc,CAAC,EAAE,CAAC,CACpB,CAAC,CAED,mBACET,IAAA,CAACL,SAAS,EAACqB,QAAQ,CAAC,IAAI,CAAAC,QAAA,cACtBf,KAAA,CAACJ,GAAG,EACFoB,SAAS,CAAC,MAAM,CAChBC,QAAQ,CAAET,YAAa,CACvBU,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,GAAG,CAAE,MAAM,CACXC,EAAE,CAAE,MAAM,CACVC,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,CAAC,CACZC,YAAY,CAAE,CAChB,CAAE,CAAAV,QAAA,eAEFjB,IAAA,OAAAiB,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAG9BjB,IAAA,CAACJ,SAAS,EACRgC,KAAK,CAAC,MAAM,CACZC,OAAO,CAAC,UAAU,CAClBC,KAAK,CAAExB,IAAK,CACZyB,QAAQ,CAAGpB,CAAC,EAAKJ,OAAO,CAACI,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE,CACzCG,QAAQ,MACT,CAAC,cAGFjC,IAAA,CAACJ,SAAS,EACRgC,KAAK,CAAC,aAAa,CACnBC,OAAO,CAAC,UAAU,CAClBC,KAAK,CAAEtB,WAAY,CACnBuB,QAAQ,CAAGpB,CAAC,EAAKF,cAAc,CAACE,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE,CACjD,CAAC,cAGF9B,IAAA,CAACH,MAAM,EAACgC,OAAO,CAAC,WAAW,CAACK,KAAK,CAAC,SAAS,CAACC,IAAI,CAAC,QAAQ,CAAAlB,QAAA,CAAC,mBAE1D,CAAQ,CAAC,EACN,CAAC,CACG,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAd,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}